<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
    <title>物料信息采购</title>
    <link rel="stylesheet" href="../css/base.css"/>
    <link rel="stylesheet" href="../lib/jquery.dataTables/jquery.dataTables.min.css"/>
    <link rel="stylesheet" href="../css/warehouse/materiel.css"/>
</head>
<body>
<div class="Questionnaire">
    <div class="Questionnaire_box">
        <!--上传调查问卷管理信息-->
        <div class="show">
            <div class="show_title">
                <h3>物料信息采购</h3>
                <button class="show_add">创建采购单</button>
            </div>
            <table id="example" class="display" cellspacing="0" width="100%">
                <thead>
                <tr>
                    <th>物料编码</th>
                    <th>物料名称</th>
                    <th>型号</th>
                    <th>数量</th>
                    <th>到货日期</th>
                    <th>采购凭证</th>
                    <th>入库凭证</th>
                    <th>发票凭证</th>
                    <th>操作</th>
                </tr>
                </thead>
            </table>
        </div>
    </div>
</div>
<script src='../lib/jquery-1.11.3/jquery.min.js'></script>
<script src="../lib/jquery.dataTables/jquery.dataTables.min.js"></script>
<script src="../lib/layer-v3.0.1/layer/layer.js"></script>
<script>
    $(function () {
        // 点击我要退库
        $(".Questionnaire .show_add").on('click', function () {
            layer.ready(function(){
                layer.open({
                    type: 2,
                    title: '物料信息采购',
                    fix: false,
                    maxmin: true,
                    shadeClose: true,
                    area: ['70%', '70%'],
                    content: 'materiel1.html'
                });
            });
        })

        //table模块
        $('#example').DataTable({
            "ajax": "./Questionnaire(2-7).txt",
            "oLanguage": { // 国际化配置
                "sProcessing": "正在获取数据，请稍后...",
                "sLengthMenu": "显示 _MENU_ 条",
                "sZeroRecords": "没有找到数据",
                "sInfo": "从 _START_ 到  _END_ 条记录 总记录数为 _TOTAL_ 条",
                "sInfoEmpty": "记录数为0",
                "sInfoFiltered": "(全部记录数 _MAX_ 条)",
                "sInfoPostFix": "",
                "sSearch": "搜索",
                "sUrl": "",
                "oPaginate": {
                    "sFirst": "第一页",
                    "sPrevious": "上一页",
                    "sNext": "下一页",
                    "sLast": "最后一页"
                }
            },
            "columns": [{
                "data": "name"
            },{
                "data": "position"
            },{
                "data": "position"
            },{
                "data": "position"
            },{
                "data": "position"
            },{
                "data": "position"
            },{
                "data": "position"
            },
                {
                    "data": "position"
                }, {
                    "data": null
                }],
            columnDefs: [{
                "targets": -1,
                "data": null,
                "defaultContent": "<a href='#'>查看详情</a>"
            }]
        });
        $('#example tbody').on('click', 'a', function () {
            //留着  "<a href='#'>查看</a>" 链接 做跳转操作
            layer.ready(function(){
                layer.open({
                    type: 2,
                    title: '物料信息采购详情单',
                    fix: false,
                    maxmin: true,
                    shadeClose: true,
                    area: ['70%', '70%'],
                    content: 'materiel2.html'
                });
            });
        });
    })
</script>
</body>
</html>